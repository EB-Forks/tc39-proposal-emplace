<!doctype html>
<meta charset="utf8">
<link rel="stylesheet" href="./spec.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script src="./spec.js"></script>
<pre class="metadata">
title: Map.prototype.upsert
stage: 1
contributors: Erica Pramer
</pre>

<emu-clause id="sec-map.prototype.upsert">
  <h1>Map.prototype.upsert(key, (old) => updated, value)`</h1>
  <p>The `upsert` method does stuff and returns stuff.</p>
  <emu-alg>
    1. Let _proposal_ be *undefined*.
    1. If IsAccepted(_proposal_),
      1. Let _stage_ be *0*.
    1. Else,
      1. Let _stage_ be *-1*.
    1. Return ? ToString(_proposal_).
  </emu-alg>
</emu-clause>
